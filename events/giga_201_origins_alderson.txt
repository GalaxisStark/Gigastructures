namespace = giga_alderson

# Starting event

country_event = {
	id = giga_alderson.001
	hide_window = yes
	is_triggered_only = yes
	trigger = { has_origin = origin_alderson }

	immediate = {
		capital_scope = {
			solar_system = {
				remove_star_flag = sol_sector	# cleanup of stuff used to block New Frontiers subclasser
				star = {
					giga_set_has_mega_flag = yes
				}
				while = { count = 10 giga_field_system_debris = yes }
				create_ambient_object = {
					type = "alderson_frame"
					location = star
					use_3d_location = yes
					base_angle_towards = star
					entity_face_object = star
				}
				last_created_ambient_object = { set_ambient_object_flag = alderson_frame }

				spawn_megastructure = {
					name = "Ruined Hypersegment B"
					type = "alderson_disk_ruined_right"
					orbit_angle = 90
					orbit_distance = 180
					owner = from
					init_effect = {
						set_megastructure_flag = alderson_ruined_right
						giga_field_debris = yes
					}
				}

				spawn_megastructure = {
					name = "Ruined Hypersegment C"
					type = "alderson_disk_ruined_center"
					orbit_angle = 135
					orbit_distance = 180
					owner = from
					init_effect = {
						set_megastructure_flag = alderson_ruined_center
						giga_field_debris = yes
					}
				}

				spawn_megastructure = {
					name = "Ruined Hypersegment D"
					type = "alderson_disk_ruined_center"
					orbit_angle = 180
					orbit_distance = 180
					owner = from
					init_effect = {
						set_megastructure_flag = alderson_ruined_center
						giga_field_debris = yes
					}
				}

				spawn_megastructure = {
					name = "Ruined Hypersegment E"
					type = "alderson_disk_ruined_center"
					orbit_angle = 225
					orbit_distance = 180
					init_effect = {
						set_megastructure_flag = alderson_ruined_center
						giga_field_debris = yes
					}
				}

				spawn_megastructure = {
					name = "Ruined Hypersegment F"
					type = "alderson_disk_ruined_center"
					orbit_angle = 270
					orbit_distance = 180
					init_effect = {
						set_megastructure_flag = alderson_ruined_center
						giga_field_debris = yes
					}
				}

				spawn_megastructure = {
					name = "Ruined Hypersegment G"
					type = "alderson_disk_ruined_center"
					orbit_angle = 315
					orbit_distance = 180
					owner = from
					init_effect = {
						set_megastructure_flag = alderson_ruined_center
						giga_field_debris = yes
					}
				}

				spawn_megastructure = {
					name = "Ruined Hypersegment H"
					type = "alderson_disk_ruined_left"
					orbit_angle = 0
					orbit_distance = 180
					owner = from
					init_effect = {
						set_megastructure_flag = alderson_ruined_left
						giga_field_debris = yes
					}
				}
			}

			set_planet_flag = forbid_guillis_planet_modifiers
			set_planet_flag = gpm_has_planet_rings
			set_planet_flag = hot_zone				# Real Space (Prevents Rings)
			set_planet_flag = megastructure
			set_planet_flag = colony_event			# Vanilla uses to prevent unwanted events on planets
			#set_planet_flag = giga_alderson_gaia
			change_pc = pc_alderson_slice_gaia_shattered
			set_planet_size = 90

			trigger_megastructure_icon = yes
			clear_planet_modifiers = yes
			clear_deposits = yes
			clear_blockers = yes

			add_deposit = d_giga_alderson_origin_home_labs
	
			if = {
				limit = { owner = { is_lithoid_empire = yes NOT = { has_valid_civic = civic_hive_devouring_swarm } } }
				while = { count = 4 add_deposit = d_hibernating_lithoids } 
			}
		
			if = {
				limit = { owner = { is_lithoid_empire = yes has_valid_civic = civic_hive_devouring_swarm } }
				while = { count = 2 add_deposit = d_hibernating_lithoids }
			}

			remove_all_districts = yes
			remove_all_buildings = yes

			if = {
				limit = {
					owner = { is_regular_empire = yes }
				}
	
				# total - 24 jobs
	
				# 3 jobs
				add_district_and_planet_size_if_needed_effect = {
					district = district_city
				}
	
				if = {
					limit = {
						owner = { NOT = { has_valid_civic = civic_agrarian_idyll } }
					}
					while = {
						count = 2
						add_district_and_planet_size_if_needed_effect = {
							district = district_city
						}
					}
				}
				else = {
					while = {
						count = 2 
						add_district_and_planet_size_if_needed_effect = {
							district = district_farming_uncapped
						}
					}
				}
	
				if = {
					limit = { owner = { is_megacorp = yes } }
					add_district_and_planet_size_if_needed_effect = {
						district = district_city
					}
				}
	
				# 4 - 6 jobs
				if = {
					limit = {
						owner = {
							OR = {
								is_lithoid_empire = no
								has_country_flag = non_lithoid_subspecies
							}
						}
					}
					while = {
						count = 2
						add_district_and_planet_size_if_needed_effect = {
							district = district_farming_uncapped
						}
					}
					if = {
						limit = {
							owner = { has_origin = origin_default }
						}
						add_district_and_planet_size_if_needed_effect = {
							district = district_farming_uncapped
						}
					}
				}
				else = {
					while = {
						count = 2
						add_district_and_planet_size_if_needed_effect = {
							district = district_mining_uncapped
						}
					}
				}
	
				# 4 jobs
				while = {
					count = 2
					add_district_and_planet_size_if_needed_effect = {
						district = district_mining_uncapped
					}
				}
	
				# 2 jobs
				add_district_and_planet_size_if_needed_effect = {
					district = district_srw_commercial
				}
	
				# 4 jobs
				add_district_and_planet_size_if_needed_effect = {
					district = district_mining_uncapped
				}
				add_district_and_planet_size_if_needed_effect = {
					district = district_srw_commercial
				}
	
				# 2 jobs
				if = {
					limit = { owner = { is_megacorp = no } }
					add_district_and_planet_size_if_needed_effect = {
						district = district_srw_commercial
					}
				}
	
				# 3 jobs
				add_building = building_capital
	
				# 2 jobs
				add_building = building_bureaucratic_1
	
				# 2 jobs
				if = {
					limit = {
						owner = {
							has_valid_civic = civic_reanimated_armies
						}
					}
					add_building = building_dread_encampment
	
					solar_system = { #Necromancers do not give engineering. So make sure there's some readily-accessible engineering
						random_system_planet = {
							limit = {
								has_deposit_for = shipclass_research_station
								has_deposit = d_engineering_5
							}
							# Total size 15 deposit as the Irreparable Damage is normally a size 5 and non-Shattered Ring starts get an additional two size 6 deposits.
							add_deposit = d_engineering_10
						}
					}
				}
				else = {
					add_building = building_research_lab_1
				}
	
				# 4-5 jobs
				if = {
					limit = {
						owner = {
							NOT = { has_valid_civic = civic_agrarian_idyll }
						}
					}
					if = {
						limit = {
							owner = {
								is_spiritualist = no
								has_valid_civic = civic_pleasure_seekers
							}
						}
						add_building = building_holo_theatres
						add_district_and_planet_size_if_needed_effect = {
							district = district_srw_commercial
						}
					}
					else_if = {
						limit = {
							owner = {
								is_spiritualist = yes
								has_valid_civic = civic_death_cult
							}
						}
						add_building = building_sacrificial_temple_1
						add_district_and_planet_size_if_needed_effect = {
							district = district_srw_commercial
						}
					}
					else_if = {
						limit = {
							owner = {
								is_megacorp = no
								is_spiritualist = yes
							}
						}
						add_building = building_temple
						add_district_and_planet_size_if_needed_effect = {
							district = district_srw_commercial
						}
					}
					else = {
						add_building = building_commercial_zone
					}
				}
			}
			
			if = {
				limit = {
					owner = { is_hive_empire = yes }
				}
	
				# 9 jobs
				while = {
					count = 3
					add_district_and_planet_size_if_needed_effect = {
						district = district_hive
					}
				}
	
				# 6-9 jobs
				if = {
					limit = {
						owner = { is_lithoid_empire = no }
					}
					while = {
						count = 2
						add_district_and_planet_size_if_needed_effect = {
							district = district_farming_uncapped
						}
					}
				}
				else = {
					while = {
						count = 2
						add_district_and_planet_size_if_needed_effect = {
							district = district_mining_uncapped
						}
					}
				}
	
				# 6 jobs
				while = {
					count = 2
					add_district_and_planet_size_if_needed_effect = {
						district = district_mining_uncapped
					}
				}
	
				# 6 jobs
				while = {
					count = 2
					add_district_and_planet_size_if_needed_effect = {
						district = district_generator_uncapped
					}
				}
	
				# 2 jobs
				add_district_and_planet_size_if_needed_effect = {
					district = district_mining_uncapped
				}
	
				# 5 jobs
				add_building = building_hive_capital
	
				# 2 jobs
				add_building = building_research_lab_1
	
				# 2 jobs
				add_building = building_hive_node
	
				# 1 job
				add_building = building_spawning_pool
			}

			if = {
				limit = { owner = { is_machine_empire = yes } }
	
				# total - 27 jobs
	
				# 3 jobs
				while = {
					count = 2
					add_district_and_planet_size_if_needed_effect = {
						district = district_nexus
					}
				}
	
				# 2 jobs
				add_district_and_planet_size_if_needed_effect = {
					district = district_mining_uncapped
				}
	
				# 6 jobs
				add_building = building_machine_capital
	
				# 1 job
				add_building = building_machine_assembly_plant
	
				# 2 job
				add_building = building_uplink_node
	
				# 2 jobs
				add_building = building_research_lab_1
	
				# 4 jobs
				add_district_and_planet_size_if_needed_effect = {
					district = district_mining_uncapped
				}
	
				# 8 jobs
				while = {
					count = 4
					add_district_and_planet_size_if_needed_effect = {
						district = district_generator_uncapped
					}
				}
	
				#Assimilators
				if = {
					limit = { owner = { has_civic = civic_machine_assimilator } }
					remove_district = district_generator_uncapped
					if = {
						limit = { owner = { has_country_flag = lithoid_subspecies } }
						add_district_and_planet_size_if_needed_effect = {
							district = district_mining_uncapped
						}
					}
					else = {
						add_district_and_planet_size_if_needed_effect = {
							district = district_farming_uncapped
						}
					}
				}
	
				#Servitors
				if = {
					limit = { owner = { has_civic = civic_machine_servitor } }
					if = {
						limit = { owner = { has_country_flag = lithoid_subspecies } }
						add_district_and_planet_size_if_needed_effect = {
							district = district_mining_uncapped
						}
					}
					else = {
						add_district_and_planet_size_if_needed_effect = {
							district = district_farming_uncapped
						}
					}
					add_district_and_planet_size_if_needed_effect = {
						district = district_nexus
					}
					add_building = building_organic_sanctuary
				}
			}
			# i litcherally just copy pasted these from shattered ring

			every_owned_pop = {
				unemploy_pop = yes
				clear_pop_category = yes
			}
			check_planet_employment = yes
		}
		country_event = { id = game_start.62 } 
		
		start_situation = {
			type = giga_situation_alderson_origin
		}
	}
}

# Origin Situation events

### EXPEDITION 1 ###

# create exploration division, begin first expedition

situation_event = {
	id = giga_alderson.1000
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		save_event_target_as = situation
		set_situation_flag = expedition_underway

		owner = {
			create_leader = {
				class = official
				species = owner_main_species
				name = random
			}
			last_created_leader = {
				exile_leader_as = giga_alderson_expedition_leader
				save_event_target_as = giga_alderson_expedition_leader
				set_immortal = yes
			}
		}
	}

	after = {
		owner = {
			country_event = {
				id = giga_alderson.1001
			}
		}
	}
}

# begin first expedition

country_event = {
	id = giga_alderson.1001
	is_triggered_only = yes
	picture = GFX_evt_busy_spaceport
	title = giga_alderson.1001
	desc = giga_alderson.1001.desc
	location = event_target:situation.target
	
	option = {
		name = giga_alderson.1001.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.1002
				days = 30
			}
		}
	}
}

# ruins of industrial primitives

country_event = {
	id = giga_alderson.1002
	is_triggered_only = yes
	picture = GFX_evt_baol_ruins
	title = giga_alderson.1002
	desc = giga_alderson.1002.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.1002.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.1003
				days = 15
			}
		}
	}
}

# we can repurpose these!

country_event = {
	id = giga_alderson.1003
	is_triggered_only = yes
	picture = GFX_evt_ancient_records
	title = giga_alderson.1003
	desc = giga_alderson.1003.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.1003.a # CG
		trigger = {
			owner = {
				country_uses_consumer_goods = yes
			}
		}

		hidden_effect = { event_target:situation.target = { set_planet_flag = alderson_expedition_1_cg } }
		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_1_cg }
	}

	option = {
		name = giga_alderson.1003.b # alloys

		hidden_effect = { event_target:situation.target = { set_planet_flag = alderson_expedition_1_alloys } }
		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_1_alloys }
	}

	option = {
		name = giga_alderson.1003.c # energy, only for gestalts
		trigger = {
			owner = {
				has_ethic = ethic_gestalt_consciousness
			}
		}

		hidden_effect = { event_target:situation.target = { set_planet_flag = alderson_expedition_1_energy } }
		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_1_energy }
	}

	after = {
		hidden_effect = {
			country_event = {
				id = giga_alderson.1004
				days = 5
			}
		}
	}
}

# conclusion

country_event = {
	id = giga_alderson.1004
	is_triggered_only = yes
	picture = GFX_evt_city_ruins
	title = giga_alderson.1004
	desc = giga_alderson.1004.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.1004.a
		hidden_effect = {
			event_target:situation.target = { set_planet_flag = alderson_expedition_1_complete }
			event_target:situation = { remove_situation_flag = expedition_underway }
			event_target:giga_alderson_expedition_leader = {
				kill_leader = {
					show_notification = no
				}
			}
		}
	}
}

### EXPEDITION 2 ###

situation_event = {
	id = giga_alderson.2000
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		save_event_target_as = situation
		set_situation_flag = expedition_underway

		owner = {
			create_leader = {
				class = official
				species = owner_main_species
				name = random
			}
			last_created_leader = {
				exile_leader_as = giga_alderson_expedition_leader
				save_event_target_as = giga_alderson_expedition_leader
				set_immortal = yes
			}
		}
	}

	after = {
		owner = {
			country_event = {
				id = giga_alderson.2001
			}
		}
	}
}

# off we go again

country_event = {
	id = giga_alderson.2001
	is_triggered_only = yes
	picture = GFX_evt_city_ruins
	title = giga_alderson.2001
	desc = giga_alderson.2001.desc
	location = event_target:situation.target
	
	option = {
		name = giga_alderson.2001.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.2002
				days = 30
			}
		}
	}
}

# ancient labs discovered

country_event = {
	id = giga_alderson.2002
	is_triggered_only = yes
	picture = GFX_evt_alien_ruins
	title = giga_alderson.2002
	desc = giga_alderson.2002.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.2002.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.2003
				days = 15
			}
		}
	}
}

# a working storage device! and we can fix the buildings

country_event = {
	id = giga_alderson.2003
	is_triggered_only = yes
	picture = GFX_evt_analyzing_artifacts
	title = giga_alderson.2003
	desc = giga_alderson.2003.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.2003.a # non-machine, no gene tech
		trigger = {
			owner = {
				is_machine_empire = no
				NOT = {
					has_technology = tech_gene_tailoring
				}
			}
		}
		add_tech_progress = {
			tech = tech_gene_tailoring
			progress = 0.25
		}

		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_2_labs }
	}

	option = {
		name = giga_alderson.2003.a # non-machine, gene tech
		trigger = {
			is_machine_empire = no
			has_technology = tech_gene_tailoring
		}

		add_monthly_resource_mult = {
			resource = society_research
			value = 20
			min = 1000
			max = 5000
		}

		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_2_labs }
	}

	option = {
		name = giga_alderson.2003.b # machine
		trigger = {
			is_machine_empire = yes
		}

		add_monthly_resource_mult = {
			resource = society_research
			value = 25
			min = 1000
			max = 7500
		}

		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_2_labs }
	}
}

# conclusion

country_event = {
	id = giga_alderson.2004
	is_triggered_only = yes
	picture = GFX_evt_think_tank
	title = giga_alderson.2004
	desc = giga_alderson.2004.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.2004.a
		hidden_effect = {
			event_target:situation.target = { set_planet_flag = alderson_expedition_2_complete }
			event_target:situation = { remove_situation_flag = expedition_underway }
			event_target:giga_alderson_expedition_leader = {
				kill_leader = {
					show_notification = no
				}
			}
		}
	}
}

### EXPEDITION 3 ###

situation_event = {
	id = giga_alderson.3000
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		save_event_target_as = situation
		set_situation_flag = expedition_underway

		owner = {
			create_leader = {
				class = official
				species = owner_main_species
				name = random
			}
			last_created_leader = {
				exile_leader_as = giga_alderson_expedition_leader
				save_event_target_as = giga_alderson_expedition_leader
				set_immortal = yes
			}
		}
	}

	after = {
		owner = {
			country_event = {
				id = giga_alderson.3001
			}
		}
	}
}

# begin third expedition

country_event = {
	id = giga_alderson.3001
	is_triggered_only = yes
	picture = GFX_evt_city_planet
	title = giga_alderson.3001
	desc = giga_alderson.3001.desc
	location = event_target:situation.target
	
	option = {
		name = giga_alderson.3001.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.3002
				days = 30
			}
		}
	}
}

# trade hub, gestalts can repurpose into energy, starts special project

country_event = {
	id = giga_alderson.3002
	is_triggered_only = yes
	picture = GFX_evt_baol_ruins
	title = giga_alderson.3002
	desc = giga_alderson.3002.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.3002.a
		trigger = {
			country_uses_consumer_goods = yes
		}
		enable_special_project = {
			name = giga_alderson_origin_expedition_3
			owner = root
			location = event_target:situation.target
		}
	}

	option = {
		name = giga_alderson.3002.b
		trigger = {
			country_uses_consumer_goods = no
		}
		enable_special_project = {
			name = giga_alderson_origin_expedition_3
			owner = root
			location = event_target:situation.target
		}
	}
}

# project complete, we get our reward

country_event = {
	id = giga_alderson.3003
	is_triggered_only = yes
	picture = GFX_evt_tradestation_interior
	title = giga_alderson.3003
	desc = giga_alderson.3003.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.3003.a
		custom_tooltip = giga_alderson.3003.trade
		trigger = {
			country_uses_consumer_goods = yes
		}
		hidden_effect = { event_target:situation.target = { set_planet_flag = alderson_expedition_3_trade } }
		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_3_trade }
	}

	option = {
		name = giga_alderson.3003.b
		custom_tooltip = giga_alderson.3003.energy
		trigger = {
			country_uses_consumer_goods = no
		}
		hidden_effect = { event_target:situation.target = { set_planet_flag = alderson_expedition_3_energy } }
		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_3_energy }
	}

	after = {
		owner = {
			country_event = {
				id = giga_alderson.3004
				days = 5
			}
		}
	}
}

# conclusion

country_event = {
	id = giga_alderson.3004
	is_triggered_only = yes
	picture = GFX_evt_announcement
	title = giga_alderson.3004
	desc = giga_alderson.3004.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.3004.a
		hidden_effect = {
			event_target:situation.target = { set_planet_flag = alderson_expedition_3_complete }
			event_target:situation = { remove_situation_flag = expedition_underway }
			event_target:giga_alderson_expedition_leader = {
				kill_leader = {
					show_notification = no
				}
			}
		}
	}
}

### EXPEDITION 4 ###

situation_event = {
	id = giga_alderson.4000
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		save_event_target_as = situation
		set_situation_flag = expedition_underway

		owner = {
			create_leader = {
				class = official
				species = owner_main_species
				name = random
			}
			last_created_leader = {
				exile_leader_as = giga_alderson_expedition_leader
				save_event_target_as = giga_alderson_expedition_leader
				set_immortal = yes
			}
		}
	}

	after = {
		owner = {
			country_event = {
				id = giga_alderson.4001
			}
		}
	}
}

# begin fourth expedition

country_event = {
	id = giga_alderson.4001
	is_triggered_only = yes
	picture = GFX_evt_crashed_station
	title = giga_alderson.4001
	desc = giga_alderson.4001.desc
	location = event_target:situation.target
	
	option = {
		name = giga_alderson.4001.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.4002
				days = 30
			}
		}
	}
}

# warfleet remains

country_event = {
	id = giga_alderson.4002
	is_triggered_only = yes
	picture = GFX_evt_relic_shipyard
	title = giga_alderson.4002
	desc = giga_alderson.4002.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.4002.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.4003
				days = 15
			}
		}
	}
}

# we can salvage these

country_event = {
	id = giga_alderson.4003
	is_triggered_only = yes
	picture = GFX_evt_death_from_above
	title = giga_alderson.4003
	desc = giga_alderson.4003.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.4003.a
		custom_tooltip = giga_alderson.4003.effect
		hidden_effect = {
			if = {
				limit = {
					not = {
						has_technology = tech_destroyers
					}
				}
				give_technology = {
					tech = tech_destroyers
				}
			}
			if = {
				limit = {
					not = {
						has_technology = tech_cruisers
					}
				}
				give_technology = {
					tech = tech_cruisers
				}
			}
			if = {
				limit = {
					not = {
						has_technology = tech_battleships
					}
				}
				give_technology = {
					tech = tech_battleships
				}
			}
			if = {
				limit = {
					has_technology = tech_battleships
				}
				add_monthly_resource_mult = {
					resource = engineering_research
					value = 25
					min = 2500
					max = 20000
				}
			}
			country_event = {
				id = giga_alderson.4004
				days = 5
			}
		}
	}
}

# conclusion

country_event = {
	id = giga_alderson.4004
	is_triggered_only = yes
	picture = GFX_evt_federation_fleet
	title = giga_alderson.4004
	desc = giga_alderson.4004.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.4004.a
		hidden_effect = {
			event_target:situation.target = { set_planet_flag = alderson_expedition_4_complete }
			event_target:situation = { remove_situation_flag = expedition_underway }
			event_target:giga_alderson_expedition_leader = {
				kill_leader = {
					show_notification = no
				}
			}
		}
	}
}

### EXPEDITION 5 ###

situation_event = {
	id = giga_alderson.5000
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		save_event_target_as = situation
		set_situation_flag = expedition_underway

		owner = {
			create_leader = {
				class = official
				species = owner_main_species
				name = random
			}
			last_created_leader = {
				exile_leader_as = giga_alderson_expedition_leader
				save_event_target_as = giga_alderson_expedition_leader
				set_immortal = yes
			}
		}
	}

	after = {
		owner = {
			country_event = {
				id = giga_alderson.5001
			}
		}
	}
}

# begin fifth expedition

country_event = {
	id = giga_alderson.5001
	is_triggered_only = yes
	picture = GFX_evt_continental_planet
	title = giga_alderson.5001
	desc = giga_alderson.5001.desc
	location = event_target:situation.target
	
	option = {
		name = giga_alderson.5001.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.5002
				days = 15
			}
		}
	}
}

# plenty of biomes that support all kinds of life

country_event = {
	id = giga_alderson.5002
	is_triggered_only = yes
	picture = GFX_evt_gaia
	title = giga_alderson.5002
	desc = giga_alderson.5002.desc
	location = event_target:situation.target
	
	option = {
		name = giga_alderson.5002.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.5003
				days = 15
			}
		}
	}
}

# halfway there! control center found...

country_event = {
	id = giga_alderson.5003
	is_triggered_only = yes
	picture = GFX_evt_crisis_defeated
	title = giga_alderson.5003
	desc = giga_alderson.5003.desc
	location = event_target:situation.target
	
	option = {
		name = giga_alderson.5003.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.5004
				days = 15
			}
		}
	}
}

# rebuild control centre

country_event = {
	id = giga_alderson.5004
	is_triggered_only = yes
	picture = GFX_evt_decryption
	title = giga_alderson.5004
	desc = giga_alderson.5004.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.5004.a
		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_5_centre }
		hidden_effect = {
			country_event = {
				id = giga_alderson.5005
				days = 5
			}
		}
	}
}

# conclusion

country_event = {
	id = giga_alderson.5005
	is_triggered_only = yes
	picture = GFX_evt_strategic_coordination_center
	title = giga_alderson.5005
	desc = giga_alderson.5005.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.5005.a
		hidden_effect = {
			event_target:situation.target = { set_planet_flag = alderson_expedition_5_complete }
			event_target:situation = { remove_situation_flag = expedition_underway }
			event_target:giga_alderson_expedition_leader = {
				kill_leader = {
					show_notification = no
				}
			}
		}
	}
}

### EXPEDITION 6 ###

situation_event = {
	id = giga_alderson.6000
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		save_event_target_as = situation
		set_situation_flag = expedition_underway

		owner = {
			create_leader = {
				class = official
				species = owner_main_species
				name = random
			}
			last_created_leader = {
				exile_leader_as = giga_alderson_expedition_leader
				save_event_target_as = giga_alderson_expedition_leader
				set_immortal = yes
			}
		}
	}

	after = {
		owner = {
			country_event = {
				id = giga_alderson.6001
			}
		}
	}
}

# begin sixth expedition, this time towards the inner edge

country_event = {
	id = giga_alderson.6001
	is_triggered_only = yes
	picture = GFX_evt_space_hangar
	title = giga_alderson.6001
	desc = giga_alderson.6001.desc
	location = event_target:situation.target
	
	option = {
		name = giga_alderson.6001.a
		hidden_effect = {
			country_event = {
				id = giga_alderson.6002
				days = 30
			}
		}
	}
}

# arrived! look at that view...

country_event = {
	id = giga_alderson.6002
	is_triggered_only = yes
	picture = GFX_evt_space_funeral
	title = giga_alderson.6002
	desc = giga_alderson.6002.desc
	location = event_target:situation.target
	
	option = {
		name = giga_alderson.6002.a

		add_monthly_resource_mult = {
			resource = unity
			value = 30
			min = 20000
			max = 50000
		}

		hidden_effect = {
			country_event = {
				id = giga_alderson.6003
				days = 30
			}
		}
	}
}

# lets make some solar farms...

country_event = {
	id = giga_alderson.6003
	is_triggered_only = yes
	picture = GFX_evt_supernova
	title = giga_alderson.6003
	desc = giga_alderson.6003.desc
	location = event_target:situation.target

	option = {
		name = giga_alderson.6003.a
		event_target:situation.target = { add_deposit = d_giga_alderson_expedition_6_energy }
	}
}